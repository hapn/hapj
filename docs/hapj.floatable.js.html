<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>JSDoc: Source: ui/hapj.floatable.js</title>

<script src="scripts/prettify/prettify.js"> </script>
<script src="scripts/prettify/lang-css.js"> </script>
<!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
<link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

<h1 class="page-title">Source: ui/hapj.floatable.js</h1>




    
    <section>
        <article>
            <pre class="prettyprint source"><code>/** 
 * Copyright (c) 2014, Jiehun.com.cn Inc. All Rights Reserved
 * @class jQuery.fn.floatable
 * @author ronnie&lt;dengxiaolong@jiehun.com.cn>
 * @date 2014-09-12
 * @version 1.0 
 * @description 使元素能相对另一个元素浮动起来。此代码可以使元素在整个页面居中、或浮动在页面左上角，右上角等
 * @example
// 设置divMenu元素处于linkMenu元素的左上角
$('#divMenu').floatable($('#linkMenu')).left().top();
 **/
!function($, undefined){
	"use strict";
	/**
	 * 元素浮动
	 * @param {Element} elem 作为当前元素浮动位置的参考元素 没有指定则为自己
	 */
	$.fn.floatable = function(elem){
		if (undefined === elem) {
			elem = document;
		}
		var isWnd = (elem === window);
		elem = $(elem);
		
		this.css('position', 'absolute');
	
		var pos, me = new Me();
		if (isWnd) {
			pos = {left:0, top:0};
		} else {
			pos = elem.offset();
		}
		if (pos === undefined) {
			pos = {left:0, top:0};
		}
		me.position = {
			width: elem.outerWidth(),
			height: elem.outerHeight()
		};
		
		$.extend(me.position, pos);
		me.ui = this;
		return me;
	};
	var Me = function(){};
	Me.prototype = /** @lends jQuery.fn.floatable */{
		/**
		 * 在指定位置显示
		 * @param {Number} left 左边距
		 * @param {int} [top=0] 顶边距
		 * @return {jQuery.fn.floatable}
		 */
		to: function(left, top) {
			var css = {};
			if (left === 0 || left) {
				css.left = (this.position.left + left) + 'px';
			} 
			if (top === 0 || top) {
				css.top = (this.position.top + top) + 'px';
			}
			this.ui.css(css);
			return this;
		},
		/**
		 * 顶部对齐
		 * @param {Number} [offset=0] 距离顶部的距离
		 * @param {Boolean} [out=false] 是否在参考元素的外部，默认为false
		 * @return {jQuery.fn.floatable}
		 */
		top:function(offset, out){
			offset = offset || 0;
			out = undefined === out ? false : out;
			this.ui.css('top', (this.position.top + offset - (out ? this.ui.height(true) : 0)) + 'px');
			return this;
		},
		/**
		 * 底部对齐
		 * @param {int} [offset=0] 距离底部的距离
		 * @param {bool} [out=false] 是否在参考元素的外部
		 * @return {jQuery.fn.floatable}
		 */
		bottom:function(offset, out){
			var ui = this.ui, pos = this.position, height;
			offset = offset || 0;
			out = undefined === out ? false : out;
			ui.each(function(k, e){
				if (!out) {
					height = $(e).outerHeight();
				} else {
					height = 0;
				}
				ui.css('top', (pos.top + pos.height - height + offset) + 'px');
			});
			return this;
		},
		/**
		 * 垂直居中
		 * @param {Number} offset 距离垂直中心点的距离
		 * @return {jQuery.fn.floatable}
		 */
		middle:function(offset){
			var ui = this.ui, pos = this.position;
			offset = offset || 0;
			ui.each(function(k, e){
				var height = $(e).outerHeight();
				ui.css('top', parseInt(pos.top + (pos.height - height)/2 + offset, 10));
			});
			return this;
		},
		/**
		 * 左边对齐
		 * @param {Number} offset 距离左边的距离
		 * @return {jQuery.fn.floatable} 
		 */
		left: function(offset, out) {
			var ui = this.ui, pos = this.position;
			offset = offset || 0;
			out = undefined === out ? false : out;
			ui.each(function(k, e){
				ui.css('left', pos.left + offset - (out ? $(e).width() : 0));
			});
			return this;
		},
		/**
		 * 右边对齐
		 * @param {Number} offset 距离右边的距离
		 * @return {jQuery.fn.floatable}
		 */
		right: function(offset, out) {
			var ui = this.ui, pos = this.position,width;
			offset = offset || 0;
			out = undefined === out ? false : out;
			ui.each(function(k, e){
				if (!out) {
					width = $(e).width();
				} else {
					width = 0;
				}
				ui.css('left', pos.left + pos.width - width + offset);
			});
			return this;
		},
		/**
		 * 左右居中
		 * @param {Number} offset 距离左右中心点的距离
		 * @return {jQuery.fn.floatable}
		 */
		center: function(offset) {
			var ui = this.ui, pos = this.position;
			offset = offset || 0;
			ui.each(function(k, e){
				var width = $(e).width();
				ui.css('left', parseInt((pos.left + pos.width - width)/2 + offset, 10) + 'px');
			});
			return this;
		}
	};
}(jQuery);</code></pre>
        </article>
    </section>




</div>

<nav>
<h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="hapj.html">hapj</a></li><li><a href="hapj.ajax.html">ajax</a></li><li><a href="hapj.array.html">array</a></li><li><a href="hapj.browser.html">browser</a></li><li><a href="hapj.cache.html">cache</a></li><li><a href="hapj.conf.html">conf</a></li><li><a href="hapj.date.html">date</a></li><li><a href="hapj.hook.html">hook</a></li><li><a href="hapj.json.html">json</a></li><li><a href="hapj.log.html">log</a></li><li><a href="hapj.object.html">object</a></li><li><a href="hapj.page.html">page</a></li><li><a href="hapj.string.html">string</a></li><li><a href="hapj.ui.html">ui</a></li><li><a href="hapj.ui.ajaxable.html">ajaxable</a></li><li><a href="hapj.ui.node.html">node</a></li><li><a href="jQuery.html">jQuery</a></li><li><a href="jQuery.fn.html">fn</a></li><li><a href="jQuery.fn.ajaxable.html">ajaxable</a></li><li><a href="jQuery.fn.floatable.html">floatable</a></li><li><a href="jQuery.fn.lazyload.html">lazyload</a></li><li><a href="jQuery.fn.menuable.html">menuable</a></li><li><a href="jQuery.fn.selectable.html">selectable</a></li><li><a href="jQuery.fn.switchable.html">switchable</a></li></ul>
</nav>

<br clear="both">

<footer>
Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Wed Sep 24 2014 11:53:51 GMT+0800 (CST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
